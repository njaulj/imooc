#!/usr/bin/env node

var program = require('commander');
var path = require('path');
var iMooc = require('../src/index');


var pkg = require('../package.json');

var version = pkg.version;

program
    .version(version)
    .option('-p, --page [value]', 'set course list page')
    .option('-d, --destination [value]', 'set save path')
    .option('-i, --id [value]', 'set course id')
    .option('-a, --action [value]', 'set imooc action')
    .option('-c, --chapter [value]', 'set download chapter')
    .parse(process.argv);

var destination_path = program.destination,
    page = program.page,
    cid = program.id,
    chapter = program.chapter,
    action = program.action,
    imooc = new iMooc();


action = typeof action !== 'function' ? action.toLowerCase() : 'list';

switch(action) {
    case 'list':
        imooc[action](page);
    break;

    case 'show':
        imooc[action](cid);
    break;

    case 'download':

    break;

    default:

    break;
}

